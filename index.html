<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Beauty Book - Agenda tu cita</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">




    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Encabezado con Imagen</title>


    <html lang="es">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Menú Desplegable</title>
        <style>
            body {
                margin: 0;
                background-color: #121212;
            }
            /* Barra superior */
            
            .navbar {
                display: flex;
                justify-content: flex-end;
                align-items: center;
                background-color: #1e1e1e;
                padding: 20px 30px;
                position: relative;
            }
            /* Botón hamburguesa */
            
            .menu-btn {
                background: none;
                border: none;
                cursor: pointer;
                display: flex;
                flex-direction: column;
                gap: 4px;
            }
            
            .menu-btn span {
                display: block;
                width: 25px;
                height: 3px;
                background-color: white;
                transition: 0.3s;
            }
            /* Menú desplegable */
            
            .dropdown-content {
                display: none;
                position: absolute;
                top: 50px;
                right: 20px;
                background-color: #2a2a2a;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
                z-index: 100;
            }
            
            .dropdown-content a {
                display: block;
                padding: 12px 20px;
                color: #fff;
                text-decoration: none;
                border-bottom: 1px solid #383838;
                transition: background-color 0.2s;
            }
            
            .dropdown-content a:last-child {
                border-bottom: none;
            }
            
            .dropdown-content a:hover {
                background-color: #444;
            }
            /* Mostrar menú cuando se activa */
            
            .dropdown-content.show {
                display: block;
            }
        </style>
    </head>

    <body>

        <div class="navbar">
            <button class="menu-btn" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>

            <div id="dropdown" class="dropdown-content">
                <a href="http://localhost/barberia/index.html"> Inicio</a>
                <a href="http://localhost/barberia/catalogo.html"> Catálogo de Productos</a>
                <a href="http://localhost/barberia/login.php"> Iniciar Sesión</a>
            </div>

        </div>

        <script>
            function toggleMenu() {
                const menu = document.getElementById("dropdown");
                menu.classList.toggle("show");
            }

            // Cierra el menú si se hace clic fuera
            document.addEventListener("click", function(event) {
                const dropdown = document.getElementById("dropdown");
                const button = document.querySelector(".menu-btn");
                if (!button.contains(event.target) && !dropdown.contains(event.target)) {
                    dropdown.classList.remove("show");
                }
            });
        </script>

    </body>



    <style>
        /* Estilos generales */
        
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-image: url('https://carlois.sirv.com/AGENDLY%20(9).png');
            /* Imagen de fondo */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        /* Imagen grande de encabezado */
        
        .hero {
            background-image: url('https://carlois.sirv.com/AGENDLY%20(7)%20(1).png');
            /* Imagen de encabezado */
            background-size: cover;
            background-position: center;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }
        
        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0);
            /* Oscurece para mejorar la legibilidad del texto */
        }
        
        .hero h1 {
            z-index: 1;
            font-size: 3em;
            margin: 0;
        }
        /* Contenido debajo del encabezado */
        
        .contenido {
            padding: 40px;
            background-color: rgba(0, 0, 0, 0.6);
            max-width: 800px;
            margin: auto;
            border-radius: 10px;
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2em;
            }
        }
    </style>



    <div class="hero">
        <h1></h1>
    </div>



    <style id="app-style">
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }
        
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .service-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .service-card.selected {
            border-color: #1b007eab;
            background-color: #eef2ff;
        }
        
        .option-btn {
            transition: all 0.2s ease;
        }
        
        .option-btn.selected {
            background-color: #ff0036;
            color: white;
        }
        
        .worker-card {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .worker-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .worker-card.selected {
            border-color: #ff0036;
            background-color: #eef2ff;
        }
        
        .btn-primary {
            background-color: #ff0036;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: #ff0036;
        }
        
        .btn-primary:disabled {
            background-color: #c7d2fe;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background-color: #e5e7eb;
            color: #374151;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background-color: #d1d5db;
        }
        
        .btn-success {
            background-color: #10b981;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-success:hover {
            background-color: #059669;
        }
        
        .btn-danger {
            background-color: #ff0036;
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-danger:hover {
            background-color: #ff0036;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 500px;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        .testimonials-carousel {
            overflow: hidden;
            height: 220px;
            position: relative;
        }
        
        .testimonials-track {
            display: flex;
            animation: scroll-right 25s linear infinite;
        }
        
        .testimonial-item {
            flex: 0 0 auto;
            width: calc(33.333% - 1.5rem);
            min-width: 280px;
        }
        
        .testimonials-carousel:hover .testimonials-track {
            animation-play-state: paused;
        }
        
        @keyframes scroll-right {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
    </style>
</head>

<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <header class="text-center mb-10">
            <h1 class="text-3xl font-bold text-indigo-100">Beauty Book</h1>
            <p class="text-gray-500">Agenda tu cita de belleza y cuidado personal</p>
        </header>

        <!-- Pantalla 1: Selección de Servicio -->
        <div id="screen-1" class="screen active">
            <h2 class="text-3xl font-bold text-center mb-10 text-gray-100">¿Qué servicio deseas?</h2>

            <div class="grid md:grid-cols-3 gap-6 mt-8">
                <div class="service-card bg-white rounded-xl shadow-md p-6 text-center" data-service="barberia">
                    <div class="w-24 h-24 mx-auto bg-indigo-800 rounded-full flex items-center justify-center mb-4">
                        <i class="fas fa-cut text-4xl text-indigo-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Barbería</h3>
                    <p class="text-gray-600 text-sm">Cortes y arreglos para caballeros</p>
                </div>

                <div class="service-card bg-white rounded-xl shadow-md p-6 text-center" data-service="peluqueria">
                    <div class="w-24 h-24 mx-auto bg-pink-100 rounded-full flex items-center justify-center mb-4">
                        <i class="fas fa-hair-long text-4xl text-pink-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Peluquería</h3>
                    <p class="text-gray-600 text-sm">Servicios para tu cabello</p>
                </div>

                <div class="service-card bg-white rounded-xl shadow-md p-6 text-center" data-service="manicura">
                    <div class="w-24 h-24 mx-auto bg-purple-100 rounded-full flex items-center justify-center mb-4">
                        <i class="fas fa-hand-sparkles text-4xl text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Manicura</h3>
                    <p class="text-gray-600 text-sm">Cuidado para tus manos y pies</p>
                </div>
            </div>

            <!-- Nueva sección de testimonios -->
            <div class="mt-16">
                <h3 class="text-2xl font-semibold mb-8 text-gray-100 text-center">Lo que dicen nuestros clientes</h3>
                <!-- Reemplazar el grid por un carrusel -->
                <div class="testimonials-carousel relative overflow-hidden">
                    <div class="testimonials-track flex">
                        <!-- Primer testimonio -->
                        <div class="testimonial-item bg-white rounded-xl shadow-md p-6 mr-6">
                            <div class="flex items-center mb-4">
                                <img src="https://randomuser.me/api/portraits/women/12.jpg" alt="Cliente" class="w-12 h-12 rounded-full mr-4">
                                <div>
                                    <p class="font-semibold">Laura M.</p>
                                    <div class="text-yellow-400">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">"El mejor servicio de peluquería que he tenido. Siempre salgo feliz con mi nuevo look."</p>
                        </div>

                        <!-- Segundo testimonio -->
                        <div class="testimonial-item bg-white rounded-xl shadow-md p-6 mr-6">
                            <div class="flex items-center mb-4">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Cliente" class="w-12 h-12 rounded-full mr-4">
                                <div>
                                    <p class="font-semibold">Carlos R.</p>
                                    <div class="text-yellow-400">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">"Excelente atención en barbería. Profesionales que saben lo que hacen."</p>
                        </div>

                        <!-- Tercer testimonio -->
                        <div class="testimonial-item bg-white rounded-xl shadow-md p-6 mr-6">
                            <div class="flex items-center mb-4">
                                <img src="https://randomuser.me/api/portraits/women/28.jpg" alt="Cliente" class="w-12 h-12 rounded-full mr-4">
                                <div>
                                    <p class="font-semibold">Sofía T.</p>
                                    <div class="text-yellow-400">
                                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">"Mi manicura quedó perfecta. Sin duda volveré pronto."</p>
                        </div>

                        <!-- Los testimonios se duplicarán mediante JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Franja de horarios de atención -->
            <div class="mt-12 bg-indigo-50 py-4 px-6 rounded-lg text-center">
                <p class="text-indigo-700 font-medium">
                    <i class="far fa-clock mr-2"></i> Horarios de atención:
                    <span class="ml-2">Lunes a sábados: 8:30am - 7:00pm | Domingos: 11:00am - 5:00pm</span>
                </p>
            </div>

            <!-- Franja de promociones -->
            <div class="mt-8 bg-gradient-to-r from-pink-100 to-indigo-100 p-6 rounded-xl shadow-md">
                <h3 class="text-xl font-bold text-center mb-4 text-indigo-800">Promociones Especiales</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white bg-opacity-70 p-4 rounded-lg">
                        <h4 class="font-semibold text-indigo-700">2x1 en Manicura</h4>
                        <p class="text-gray-700">Todos los martes y jueves</p>
                    </div>
                    <div class="bg-white bg-opacity-70 p-4 rounded-lg">
                        <h4 class="font-semibold text-indigo-700">20% OFF en cortes</h4>
                        <p class="text-gray-700">Para clientes nuevos</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pantalla 2: Opciones Específicas -->
        <div id="screen-2" class="screen">
            <div class="flex items-center mb-6">
                <button id="back-to-1" class="mr-4 text-indigo-100 hover:text-indigo-800">
          <i class="fas fa-arrow-left"></i> Atrás
        </button>
                <h2 id="service-options-title" class="text-2xl font-bold text-gray-100">Elige tu opción de servicio</h2>
            </div>

            <div id="options-container" class="space-y-3 mt-6">
                <!-- Las opciones se cargarán dinámicamente según el servicio seleccionado -->
            </div>

            <div class="mt-10 text-center">
                <button id="next-to-3" class="btn-primary px-6 py-3 rounded-lg font-medium disabled:opacity-50" disabled>
          Siguiente <i class="fas fa-arrow-right ml-2"></i>
        </button>
            </div>
        </div>

        <!-- Pantalla 3: Selección de Trabajador -->
        <div id="screen-3" class="screen">
            <div class="flex items-center mb-6">
                <button id="back-to-2" class="mr-4 text-indigo-100 hover:text-indigo-800">
          <i class="fas fa-arrow-left"></i> Atrás
        </button>
                <h2 class="text-2xl font-bold text-gray-100">Selecciona al estilista/esteticista</h2>
            </div>

            <div id="workers-container" class="grid md:grid-cols-2 gap-6 mt-6">
                <!-- Los trabajadores se cargarán dinámicamente según el servicio seleccionado -->
            </div>

            <div class="mt-10 text-center">
                <button id="next-to-4" class="btn-primary px-6 py-3 rounded-lg font-medium disabled:opacity-50" disabled>
          Siguiente <i class="fas fa-arrow-right ml-2"></i>
        </button>
            </div>
        </div>

        <!-- Pantalla 4: Fecha y Hora -->
        <div id="screen-4" class="screen">
            <div class="flex items-center mb-6">
                <button id="back-to-3" class="mr-4 text-indigo-100 hover:text-indigo-100">
          <i class="fas fa-arrow-left"></i> Atrás
        </button>
                <h2 class="text-2xl font-bold text-gray-100">Selecciona fecha y hora</h2>
            </div>

            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="mb-6">
                    <label for="date-picker" class="block text-gray-700 font-medium mb-2">Fecha</label>
                    <input type="text" id="date-picker" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Selecciona una fecha">
                </div>

                <div class="mb-6">
                    <label for="time-picker" class="block text-gray-700 font-medium mb-2">Hora</label>
                    <input type="text" id="time-picker" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Selecciona una hora">
                </div>
            </div>

            <div class="mt-10 text-center">
                <button id="next-to-5" class="btn-primary px-6 py-3 rounded-lg font-medium disabled:opacity-50" disabled>
          Continuar <i class="fas fa-arrow-right ml-2"></i>
        </button>
            </div>
        </div>

        <!-- Pantalla 5: Confirmación -->
        <div id="screen-5" class="screen">
            <div class="flex items-center mb-6">
                <button id="back-to-4" class="mr-4 text-indigo-100 hover:text-indigo-800">
          <i class="fas fa-arrow-left"></i> Atrás
        </button>
                <h2 class="text-2xl font-bold text-gray-100">Confirma tu cita</h2>
            </div>

            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-xl font-semibold mb-4 text-center">Resumen de tu reserva</h3>

                <div class="space-y-4">
                    <div class="flex border-b pb-3">
                        <span class="w-1/3 font-medium text-gray-600">Servicio:</span>
                        <span id="summary-service" class="w-2/3 text-gray-800"></span>
                    </div>

                    <div class="flex border-b pb-3">
                        <span class="w-1/3 font-medium text-gray-600">Opción:</span>
                        <span id="summary-option" class="w-2/3 text-gray-800"></span>
                    </div>

                    <div class="flex border-b pb-3">
                        <span class="w-1/3 font-medium text-gray-600">Estilista:</span>
                        <span id="summary-worker" class="w-2/3 text-gray-800"></span>
                    </div>

                    <div class="flex border-b pb-3">
                        <span class="w-1/3 font-medium text-gray-600">Fecha:</span>
                        <span id="summary-date" class="w-2/3 text-gray-800"></span>
                    </div>

                    <div class="flex">
                        <span class="w-1/3 font-medium text-gray-600">Hora:</span>
                        <span id="summary-time" class="w-2/3 text-gray-800"></span>
                    </div>
                </div>
            </div>

            <div class="mt-10 flex flex-col md:flex-row gap-4 justify-center">
                <button id="confirm-whatsapp" class="btn-success px-6 py-3 rounded-lg font-medium flex items-center justify-center">
          <i class="fab fa-whatsapp mr-2 text-xl"></i> Confirmar por WhatsApp
        </button>

                <button id="cancel-appointment" class="btn-danger px-6 py-3 rounded-lg font-medium flex items-center justify-center">
          <i class="fas fa-times mr-2"></i> Cancelar cita
        </button>
            </div>
        </div>

        <!-- Modal de confirmación -->
        <div id="confirmation-modal" class="modal">
            <div class="modal-content p-6">
                <h3 class="text-xl font-bold mb-4 text-gray-800">Confirmar cita</h3>
                <p class="text-gray-600 mb-6">¿Estás seguro que deseas confirmar esta cita por WhatsApp?</p>

                <div class="flex justify-end gap-3">
                    <button id="modal-cancel" class="btn-secondary px-4 py-2 rounded-lg">Cancelar</button>
                    <button id="modal-confirm" class="btn-success px-4 py-2 rounded-lg">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>

    <script id="app-script">
        // Datos de la aplicación
        const serviceOptions = {
            barberia: [{
                id: 'corte-cabello',
                name: 'Corte de cabello',
                icon: 'fa-scissors'
            }, {
                id: 'corte-barba',
                name: 'Corte de barba',
                icon: 'fa-razor'
            }, {
                id: 'servicio-completo',
                name: 'Servicio completo',
                icon: 'fa-list-check'
            }],
            peluqueria: [{
                id: 'corte-dama',
                name: 'Corte de dama',
                icon: 'fa-scissors'
            }, {
                id: 'tintes',
                name: 'Tintes',
                icon: 'fa-palette'
            }, {
                id: 'mechas',
                name: 'Mechas',
                icon: 'fa-droplet'
            }, {
                id: 'balayage',
                name: 'Balayage',
                icon: 'fa-paint-brush'
            }],
            manicura: [{
                id: 'manicura',
                name: 'Manicura',
                icon: 'fa-hand'
            }, {
                id: 'pedicura',
                name: 'Pedicura',
                icon: 'fa-shoe-prints'
            }]
        };

        const workers = {
            barberia: [{
                id: 'juan',
                name: 'Juan Pérez',
                photo: 'https://cdn.pixabay.com/photo/2019/11/10/11/13/man-4615865_960_720.jpg',
                whatsapp: '593959287473'
            }, {
                id: 'carlos',
                name: 'Carlos Rodríguez',
                photo: 'https://cdn.pixabay.com/photo/2022/08/06/11/01/man-7368395_960_720.jpg',
                whatsapp: '593959287473'
            }],
            peluqueria: [{
                id: 'maria',
                name: 'María González',
                photo: 'https://cdn.pixabay.com/photo/2017/02/16/23/10/smile-2072907_960_720.jpg',
                whatsapp: '593959287473'
            }],
            manicura: [{
                id: 'laura',
                name: 'Laura Torres',
                photo: 'https://cdn.pixabay.com/photo/2018/01/15/07/52/woman-3083401_960_720.jpg',
                whatsapp: '593959287473'
            }, {
                id: 'ana',
                name: 'Ana López',
                photo: 'https://cdn.pixabay.com/photo/2017/04/05/10/45/girl-2204622_960_720.jpg',
                whatsapp: '593959287473'
            }]
        };

        // Estado de la aplicación
        let appState = {
            currentScreen: 1,
            selectedService: null,
            selectedOption: null,
            selectedWorker: null,
            selectedDate: null,
            selectedTime: null
        };

        // Cargar estado del localStorage si existe
        function loadState() {
            const savedState = localStorage.getItem('beautyBookAppState');
            if (savedState) {
                appState = JSON.parse(savedState);

                // Actualizar la UI según el estado guardado
                if (appState.selectedService) {
                    document.querySelector(`.service-card[data-service="${appState.selectedService}"]`).classList.add('selected');
                }

                // Navegar a la pantalla guardada
                navigateToScreen(appState.currentScreen);
            }
        }

        // Guardar estado en localStorage
        function saveState() {
            localStorage.setItem('beautyBookAppState', JSON.stringify(appState));
        }

        // Función para navegar entre pantallas
        function navigateToScreen(screenNumber) {
            // Ocultar todas las pantallas
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Mostrar la pantalla seleccionada
            document.getElementById(`screen-${screenNumber}`).classList.add('active');

            // Actualizar estado
            appState.currentScreen = screenNumber;
            saveState();

            // Preparar la pantalla específica
            switch (screenNumber) {
                case 2:
                    prepareOptionsScreen();
                    break;
                case 3:
                    prepareWorkersScreen();
                    break;
                case 5:
                    prepareSummaryScreen();
                    break;
            }
        }

        // Preparar pantalla de opciones
        function prepareOptionsScreen() {
            const optionsContainer = document.getElementById('options-container');
            const serviceTitle = document.getElementById('service-options-title');

            // Actualizar título
            let serviceName = '';
            switch (appState.selectedService) {
                case 'barberia':
                    serviceName = 'Barbería';
                    break;
                case 'peluqueria':
                    serviceName = 'Peluquería';
                    break;
                case 'manicura':
                    serviceName = 'Manicura';
                    break;
            }

            serviceTitle.textContent = `Elige tu opción de ${serviceName}`;

            // Limpiar contenedor
            optionsContainer.innerHTML = '';

            // Agregar opciones según el servicio seleccionado
            const options = serviceOptions[appState.selectedService];
            options.forEach(option => {
                const optionBtn = document.createElement('button');
                optionBtn.className = `option-btn w-full text-left px-4 py-3 rounded-lg border flex items-center ${appState.selectedOption === option.id ? 'selected' : 'bg-white border-gray-200'}`;
                optionBtn.dataset.option = option.id;
                optionBtn.innerHTML = `
          <i class="fas ${option.icon} mr-3 text-lg ${appState.selectedOption === option.id ? 'text-white' : 'text-indigo-500'}"></i>
          <span>${option.name}</span>
        `;

                optionBtn.addEventListener('click', () => {
                    // Quitar selección de todos los botones
                    document.querySelectorAll('.option-btn').forEach(btn => {
                        btn.classList.remove('selected');
                        btn.classList.add('bg-white', 'border-gray-200');
                        const icon = btn.querySelector('i');
                        if (icon) icon.classList.remove('text-white');
                        if (icon) icon.classList.add('text-indigo-500');
                    });

                    // Seleccionar este botón
                    optionBtn.classList.add('selected');
                    optionBtn.classList.remove('bg-white', 'border-gray-200');
                    const icon = optionBtn.querySelector('i');
                    if (icon) icon.classList.add('text-white');
                    if (icon) icon.classList.remove('text-indigo-500');

                    // Actualizar estado
                    appState.selectedOption = option.id;
                    saveState();

                    // Habilitar botón siguiente
                    document.getElementById('next-to-3').disabled = false;
                });

                optionsContainer.appendChild(optionBtn);
            });

            // Habilitar/deshabilitar botón siguiente
            document.getElementById('next-to-3').disabled = !appState.selectedOption;
        }

        // Preparar pantalla de trabajadores
        function prepareWorkersScreen() {
            const workersContainer = document.getElementById('workers-container');

            // Limpiar contenedor
            workersContainer.innerHTML = '';

            // Agregar trabajadores según el servicio seleccionado
            const serviceWorkers = workers[appState.selectedService];
            serviceWorkers.forEach(worker => {
                const workerCard = document.createElement('div');
                workerCard.className = `worker-card bg-white rounded-xl shadow-md p-4 text-center ${appState.selectedWorker === worker.id ? 'selected' : ''}`;
                workerCard.dataset.worker = worker.id;
                workerCard.innerHTML = `
          <img src="${worker.photo}" alt="${worker.name}" class="w-32 h-32 object-cover rounded-full mx-auto mb-3">
          <h4 class="text-lg font-semibold">${worker.name}</h4>
        `;

                workerCard.addEventListener('click', () => {
                    // Quitar selección de todos los trabajadores
                    document.querySelectorAll('.worker-card').forEach(card => {
                        card.classList.remove('selected');
                    });

                    // Seleccionar este trabajador
                    workerCard.classList.add('selected');

                    // Actualizar estado
                    appState.selectedWorker = worker.id;
                    saveState();

                    // Habilitar botón siguiente
                    document.getElementById('next-to-4').disabled = false;
                });

                workersContainer.appendChild(workerCard);
            });

            // Habilitar/deshabilitar botón siguiente
            document.getElementById('next-to-4').disabled = !appState.selectedWorker;
        }

        // Preparar pantalla de resumen
        function prepareSummaryScreen() {
            // Obtener datos completos basados en IDs seleccionados
            const service = appState.selectedService;
            const option = serviceOptions[service].find(opt => opt.id === appState.selectedOption);
            const worker = workers[service].find(w => w.id === appState.selectedWorker);

            // Nombres para mostrar del servicio
            let serviceName = '';
            switch (service) {
                case 'barberia':
                    serviceName = 'Barbería';
                    break;
                case 'peluqueria':
                    serviceName = 'Peluquería';
                    break;
                case 'manicura':
                    serviceName = 'Manicura';
                    break;
            }

            // Actualizar campos del resumen
            document.getElementById('summary-service').textContent = serviceName;
            document.getElementById('summary-option').textContent = option.name;
            document.getElementById('summary-worker').textContent = worker.name;
            document.getElementById('summary-date').textContent = appState.selectedDate;
            document.getElementById('summary-time').textContent = appState.selectedTime;
        }

        // Inicializar los selectores de fecha y hora
        function initializeDateTimePickers() {
            // Inicializar selector de fecha
            const datePicker = flatpickr("#date-picker", {
                locale: "es",
                dateFormat: "d/m/Y",
                minDate: "today",
                disableMobile: "true",
                onChange: function(selectedDates, dateStr) {
                    appState.selectedDate = dateStr;
                    saveState();
                    checkDateTimeSelection();
                }
            });

            // Inicializar selector de hora
            const timePicker = flatpickr("#time-picker", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "H:i",
                time_24hr: true,
                minTime: "09:00",
                maxTime: "19:00",
                disableMobile: "true",
                onChange: function(selectedDates, timeStr) {
                    appState.selectedTime = timeStr;
                    saveState();
                    checkDateTimeSelection();
                }
            });

            // Si hay valores guardados, establecerlos
            if (appState.selectedDate) {
                datePicker.setDate(appState.selectedDate);
            }

            if (appState.selectedTime) {
                timePicker.setDate(`2021-01-01 ${appState.selectedTime}`);
            }
        }

        // Verificar si se ha seleccionado fecha y hora
        function checkDateTimeSelection() {
            const nextButton = document.getElementById('next-to-5');
            nextButton.disabled = !(appState.selectedDate && appState.selectedTime);
        }

        // Crear mensaje para WhatsApp
        function createWhatsAppMessage() {
            const service = appState.selectedService;
            const option = serviceOptions[service].find(opt => opt.id === appState.selectedOption);
            const worker = workers[service].find(w => w.id === appState.selectedWorker);

            let serviceName = '';
            switch (service) {
                case 'barberia':
                    serviceName = 'Barbería';
                    break;
                case 'peluqueria':
                    serviceName = 'Peluquería';
                    break;
                case 'manicura':
                    serviceName = 'Manicura';
                    break;
            }

            const message = `Hola, quiero agendar una cita para ${serviceName} - ${option.name} con ${worker.name} el día ${appState.selectedDate} a las ${appState.selectedTime}. ¿Está disponible ese horario?`;

            return encodeURIComponent(message);
        }

        // Evento de carga inicial
        document.addEventListener('DOMContentLoaded', () => {
            // Cargar estado si existe
            loadState();

            // Inicializar pickers de fecha y hora
            initializeDateTimePickers();

            // Eventos para tarjetas de servicio
            document.querySelectorAll('.service-card').forEach(card => {
                card.addEventListener('click', () => {
                    // Quitar selección de todas las tarjetas
                    document.querySelectorAll('.service-card').forEach(c => {
                        c.classList.remove('selected');
                    });

                    // Seleccionar esta tarjeta
                    card.classList.add('selected');

                    // Actualizar estado
                    appState.selectedService = card.dataset.service;
                    saveState();

                    // Navegar a la siguiente pantalla
                    setTimeout(() => {
                        navigateToScreen(2);
                    }, 300);
                });
            });

            // Eventos de navegación
            document.getElementById('back-to-1').addEventListener('click', () => navigateToScreen(1));
            document.getElementById('next-to-3').addEventListener('click', () => navigateToScreen(3));
            document.getElementById('back-to-2').addEventListener('click', () => navigateToScreen(2));
            document.getElementById('next-to-4').addEventListener('click', () => navigateToScreen(4));
            document.getElementById('back-to-3').addEventListener('click', () => navigateToScreen(3));
            document.getElementById('next-to-5').addEventListener('click', () => navigateToScreen(5));
            document.getElementById('back-to-4').addEventListener('click', () => navigateToScreen(4));

            // Evento para confirmar por WhatsApp
            document.getElementById('confirm-whatsapp').addEventListener('click', () => {
                document.getElementById('confirmation-modal').classList.add('active');
            });

            // Eventos del modal
            document.getElementById('modal-cancel').addEventListener('click', () => {
                document.getElementById('confirmation-modal').classList.remove('active');
            });

            document.getElementById('modal-confirm').addEventListener('click', () => {
                const worker = workers[appState.selectedService].find(w => w.id === appState.selectedWorker);
                const message = createWhatsAppMessage();
                window.open(`https://wa.me/${worker.whatsapp}?text=${message}`, '_blank');
                document.getElementById('confirmation-modal').classList.remove('active');
            });

            // Evento para cancelar cita
            document.getElementById('cancel-appointment').addEventListener('click', () => {
                // Reiniciar estado
                appState = {
                    currentScreen: 1,
                    selectedService: null,
                    selectedOption: null,
                    selectedWorker: null,
                    selectedDate: null,
                    selectedTime: null
                };

                // Limpiar localStorage
                localStorage.removeItem('beautyBookAppState');

                // Volver a la primera pantalla
                navigateToScreen(1);

                // Quitar selecciones visuales
                document.querySelectorAll('.service-card').forEach(card => {
                    card.classList.remove('selected');
                });
            });

            // Evento para el botón de Reserva Rápida
            const reservaRapidaBtn = document.querySelector('.fixed.bottom-6.right-6 button');
            if (reservaRapidaBtn) {
                reservaRapidaBtn.addEventListener('click', () => {
                    const mensaje = encodeURIComponent('Hola Dennis, me gustaría agendar una cita');
                    // Reemplaza el número de teléfono a continuación por el deseado, por ejemplo, el de Dennis
                    const numeroWhatsApp = '593959287473';
                    window.open(`https://wa.me/${numeroWhatsApp}?text=${mensaje}`, '_blank');
                });
            }

            // Inicializar el carrusel de testimonios
            const testimonialsTrack = document.querySelector('.testimonials-track');
            if (testimonialsTrack) {
                // Clonar los testimonios para crear un efecto de scroll infinito
                const testimonialItems = Array.from(testimonialsTrack.querySelectorAll('.testimonial-item'));
                testimonialItems.forEach(item => {
                    const clone = item.cloneNode(true);
                    testimonialsTrack.appendChild(clone);
                });
            }
        });
    </script>

    <!-- Botón flotante de Reserva Rápida -->
    <div class="fixed bottom-6 right-6 z-50">
        <button class="btn-primary rounded-full w-16 h-16 flex items-center justify-center shadow-lg hover:scale-105 transition-transform">
      <i class="fas fa-calendar-check text-2xl"></i>
    </button>
        <span class="absolute -top-10 right-0 bg-white px-1 py-1 rounded-lg shadow-md text-sm font-medium">Reserva Rápida</span>
    </div>
</body>

</html>
